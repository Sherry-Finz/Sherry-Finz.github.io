<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>éšæœºæŠ½æŸ¥èƒŒè¯µ</title>
    <style>
        body {
            background: linear-gradient(150deg, #f0f5f5 0%, #e6eef0 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            font-family: 'åæ–‡æ¥·ä½“', 'æ¥·ä½“', serif;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border: 1px solid #c4d8d3;
            position: relative;
        }

        h1 {
            text-align: center;
            color: #4a7068;
            font-size: 2.8em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .lottery-box {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 30px;
        }

        .lottery-item {
            flex: 1;
            height: 200px;
            padding: 20px;
            background: #f8fbfa;
            border: 2px dashed #9abeb7;
            border-radius: 10px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.6;
            color: #5a7c76;
            transition: all 0.3s;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-bottom: 20px;
        }

        .button-container button {
            background: #7fa99d;
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.8em;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-family: 'åæ–‡è¡Œæ¥·', cursive;
        }

        .button-container button:hover {
            background: #6d9389;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .button-container button:active {
            transform: translateY(0);
        }

        .switch-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #7fa99d;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider-text {
            margin: 0 10px;
            font-size: 1.2em;
            color: #5a7c76;
        }

        .decoration {
            text-align: center;
            margin-top: 30px;
            color: #9abeb7;
            font-size: 1.2em;
        }

        @keyframes flash {
            0% { opacity: 0.2; }
            50% { opacity: 1; }
            100% { opacity: 0.2; }
        }

        .flashing {
            animation: flash 0.3s infinite;
        }

        .stimulate-text {
            position: absolute;
            bottom: 1px;
            right: 20px;
            font-size: 1.2em;
            color: #7fa99d;
            cursor: pointer;
        }

        .stimulate-text:hover {
            color: #6d9389;
        }

        .result-table {
            width: 100%;
            margin-top: 50px;
            border-collapse: collapse;
            table-layout: fixed;
        }

        .result-table td {
            width: 50%;
            height: 30px;
            padding: 10px;
            border: 1px solid #9abeb7;
            text-align: center;
            font-size: 1.2em;
            color: #5a7c76;
        }

        .golden-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: gold;
            color: black;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 1.5em;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            animation: fadeOut 2s forwards;
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“œ ç»å…¸è¯—æ–‡æŠ½æŸ¥ ğŸ“œ</h1>
        <div class="lottery-box">
            <div id="poem-display" class="lottery-item">ç‚¹å‡»æŒ‰é’®å¼€å§‹éšæœºæŠ½è¯—</div>
            <div id="name-display" class="lottery-item">ç‚¹å‡»æŒ‰é’®å¼€å§‹éšæœºæŠ½äºº</div>
        </div>
        <div class="button-container">
            <button id="poem-btn">æŠ½å–å¤è¯—</button>
            <button id="name-btn">æŠ½å–äººå</button>
        </div>
        <div class="switch-container">
            <span class="slider-text">ä¸€ç­</span>
            <label class="switch">
                <input type="checkbox" id="class-toggle">
                <span class="slider"></span>
            </label>
            <span class="slider-text">äº”ç­</span>
        </div>
        <div class="decoration">â€”â€” è…¹æœ‰è¯—ä¹¦æ°”è‡ªå â€”â€”</div>
        <div class="stimulate-text" id="stimulate-text">ç‚¹æˆ‘è·å¾—3ä¸ªå¹¸è¿å„¿ï¼</div>
    </div>

    <script>
        const poems = [
            "ã€Šç™»å²³é˜³æ¥¼ã€‹Â·æœç”«",
            "ã€Šæ¡‚æé¦™Â·é‡‘é™µæ€€å¤ã€‹Â·ç‹å®‰çŸ³",
            "ã€Šå¿µå¥´å¨‡Â·è¿‡æ´åº­ã€‹Â·å¼ å­ç¥¥",
            "ã€Šæ¸¸å›­ã€‹Â·æ±¤æ˜¾ç¥–"
        ];

        const class1Names = [
            "å®‰ç…Œæ¢“", "é²æ€æŸ”", "é™ˆç§‘äºˆ", "ç¨‹é‡‘", "ä»£æ¢“æ©", "ç¿Ÿå­å¢¨", "æ¨Šæ™‹é¹", "æ–¹è¯—æ¶µ", "æ–¹éª", "å†¯é›·çš“",
            "é«˜ä¸€å…ƒ", "éƒ­ç¦¹è‰¯", "ä½•é›¨ä½³", "æ´ªè‹¥æ›¦", "æ´ªä¸€è¯º", "æ±Ÿæ­£è½©", "è’‹æ¹›æ©", "é‡‘ä¹¦ç‘œ", "é‡‘æ¹›", "æå®¸æ¬£",
            "æè‹¥æ´‹", "æäº«", "æç¾½æ¡¢", "æ—æª¬", "åˆ˜é¹¿æ¶µ", "åˆ˜ä¸€åš", "å€ªæ­£æ˜Š", "å®‹ä½³éœ“", "å­™çš“è½©", "å­™å¾¡æ ‘",
            "æ±ªæ³±é€¸", "æ±ªå­è½©", "ç‹çº", "ç‹å­é’°", "é­å­æ¶µ", "å´æµ©å®‡", "å´äº¦ç©", "è°¢æ˜Ÿå®‡", "è°¢å­æ¶µ", "å¾è¯º",
            "å¾å­å…ƒ", "è®¸æ³½ç’‡", "å§šæ™¯æ€¡", "å°¹æ¥šæ­", "åº”æ³½æ­", "äºæ­†å®¸", "ä¿ä¹‹ä¹", "å¼ å®‰ä¸€", "å¼ æ˜Šé›¨", "éƒ‘æ·»ç¿¼",
            "éƒ‘é€¸", "å‘¨æ­¥äº‘", "å‘¨å¥•è¯º", "å‘¨é€¸å‡¡", "å‘¨ç›ˆä½"
        ];

        const class2Names = [
            "è”¡ç‰§é˜³", "æ›¹æ˜ç¿", "é™ˆæ­é¡º", "é™ˆæ™“ç†™", "ä¸éº’è¶Š", "èŒƒé›¨ç‘„", "æ–¹ä¸€åš", "å‚…å¨†", "å‚…ç‘¶", "å‚…æ¢“æ¶µ",
            "é«˜ä¼Ÿæ°", "é¡¾è¯­è¡", "æ¡‚é¢œå“²", "ä½•é•’å®‰", "æ´ªæ—èŠ·", "èƒ¡æ–‡è±ª", "å­£å”¯é¥", "å­£å“ç¹", "ææ¬¢", "ææ¬£æº",
            "æä¼Šæ¶µ", "æ—é»›å¦", "åˆ˜æ¢“è«", "ç½—æ™¨å¸Œ", "å•æ™¶æ™¶", "ä½˜é•¿æ˜¥", "æ²ˆå®¶æ‚¦", "æ²ˆå›æ˜Š", "æ²ˆç»´æ€¡", "æ²ˆå¥•å¸†",
            "æ–½æ£ éŸ¬", "å®‹å®œæ³½", "é™¶ä¸€ä¹‹", "ç”°æœªç–‘", "æ±ªå­è±ª", "ç‹é–çª", "ç‹ä¿Šæ›¦", "ç‹ç‘å¥‡", "ç‹ç¿æ±", "ç‹æ¬£æ‚¦",
            "å¤å®è¿œ", "å¾å­é’°", "é—«å´è‹¥æœ¨", "æ¨æ™¨è¯­", "æ¨é›¨è¾°", "æ¨æœ±ä¿Š", "å¶å­é’°", "ä¿é’¥å¤©", "å¼ æ˜Šè½©", "å¼ æµ©ç„¶",
            "å¼ æ³°ç† ", "å¼ å¿ƒæ‚¦", "å¼ å“²ç¿”", "èµµå‡¯é›¯", "å‘¨è½©é”"
        ];

        const specialName = "\u5468\u4e4b\u6c38";

        let isPoemRolling = false;
        let isNameRolling = false;
        let poemIntervalId;
        let nameIntervalId;
        const poemDisplay = document.getElementById('poem-display');
        const nameDisplay = document.getElementById('name-display');
        const poemBtn = document.getElementById('poem-btn');
        const nameBtn = document.getElementById('name-btn');
        const classToggle = document.getElementById('class-toggle');
        const stimulateText = document.getElementById('stimulate-text');

        function startPoemRandom() {
            isPoemRolling = true;
            poemBtn.textContent = "åœæ­¢æŠ½å–";
            poemDisplay.classList.add('flashing');
            poemIntervalId = setInterval(() => {
                poemDisplay.textContent = poems[Math.floor(Math.random() * poems.length)];
            }, 50);
        }

        function stopPoemRandom() {
            isPoemRolling = false;
            poemBtn.textContent = "æŠ½å–å¤è¯—";
            poemDisplay.classList.remove('flashing');
            clearInterval(poemIntervalId);
        }

        function startNameRandom() {
            isNameRolling = true;
            nameBtn.textContent = "åœæ­¢æŠ½å–";
            nameDisplay.classList.add('flashing');
            const names = classToggle.checked ? class2Names : class1Names;
            nameIntervalId = setInterval(() => {
                if (Math.random() < 0.01) {
                    nameDisplay.textContent = specialName;
                } else {
                    nameDisplay.textContent = names[Math.floor(Math.random() * names.length)];
                }
            }, 50);
        }

        function stopNameRandom() {
            if(nameDisplay.textContent == specialName)
                showGoldenAlert();
            isNameRolling = false;
            nameBtn.textContent = "æŠ½å–äººå";
            nameDisplay.classList.remove('flashing');
            clearInterval(nameIntervalId);
        }

        poemBtn.addEventListener('click', () => {
            if (isPoemRolling) {
                stopPoemRandom();
            } else {
                startPoemRandom();
            }
        });

        nameBtn.addEventListener('click', () => {
            if (isNameRolling) {
                stopNameRandom();
            } else {
                startNameRandom();
            }
        });

        function showGoldenAlert() {
            const alertBox = document.createElement('div');
            alertBox.className = 'golden-alert';
            alertBox.textContent = 'è¿™æ˜¯å½©è›‹ï¼';
            document.body.appendChild(alertBox);
            setTimeout(() => {
                alertBox.remove();
            }, 4000);
        }

        stimulateText.addEventListener('click', () => {
            const oldTable = document.querySelector('.result-table');
            if (oldTable) oldTable.remove();

            const table = document.createElement('table');
            table.className = 'result-table';
            const tbody = document.createElement('tbody');

            for (let i = 0; i < 3; i++) {
                const row = document.createElement('tr');
                const poemCell = document.createElement('td');
                const nameCell = document.createElement('td');
                row.appendChild(poemCell);
                row.appendChild(nameCell);
                tbody.appendChild(row);

                setTimeout(() => {
                    fillCellWithAnimation(poemCell, poems, () => {
                        setTimeout(() => {
                            const names = classToggle.checked ? class2Names : class1Names;
                            fillCellWithAnimation(nameCell, names);
                        }, 1000);
                    });
                }, i * 4000);
            }

            table.appendChild(tbody);
            document.querySelector('.container').appendChild(table);
        });

        function fillCellWithAnimation(cell, data, callback) {
            let interval = 10;
            let timerId;

            function pickRandom() {
                const randomIndex = Math.floor(Math.random() * data.length);
                cell.textContent = data[randomIndex];
            }

            function run() {
                pickRandom();
                interval *= 1.2;
                if (interval > 700) {
                    clearTimeout(timerId);
                    if (callback) callback();
                } else {
                    timerId = setTimeout(run, interval);
                }
            }

            run();
        }
    </script>
</body>
</html>